<!-- ğŸ“ íŒŒì¼: src/lib/components/Sidebar.svelte -->
<script>
  import { page } from '$app/stores';

  // ì‚¬ìš©ì í”„ë¡œí•„ (ì¶”í›„ ì‹¤ì œ ë°ì´í„°ë¡œ êµì²´)
  const userProfile = {
    name: 'ì‚¬ìš©ì',
    avatar: 'https://cdn.discordapp.com/embed/avatars/0.png',
    status: 'online'
  };

  // ì ‘ì†ì ë¦¬ìŠ¤íŠ¸ (ì¶”í›„ ì‹¤ì œ ë°ì´í„°ë¡œ êµì²´)
  const onlineUsers = [
    { id: 1, name: 'í”Œë ˆì´ì–´1', status: 'online' },
    { id: 2, name: 'í”Œë ˆì´ì–´2', status: 'idle' },
    { id: 3, name: 'í”Œë ˆì´ì–´3', status: 'dnd' },
    { id: 4, name: 'í”Œë ˆì´ì–´4', status: 'online' }
  ];

  const statusColors = {
    online: '#57F287',
    idle: '#FEE75C',
    dnd: '#ED4245',
    offline: '#747F8D'
  };
</script>

<div class="sidebar-content">
  <!-- ì‚¬ìš©ì í”„ë¡œí•„ ì„¹ì…˜ -->
  <section class="profile-section">
    <h2 class="section-title">ì‚¬ìš©ì í”„ë¡œí•„</h2>
    <div class="profile-card">
      <img src={userProfile.avatar} alt={userProfile.name} class="profile-avatar" />
      <div class="profile-info">
        <h3 class="profile-name">{userProfile.name}</h3>
        <div class="profile-status">
          <span
            class="status-indicator"
            style="background-color: {statusColors[userProfile.status]}"
          ></span>
          <span class="status-text">ì˜¨ë¼ì¸</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ì ‘ì†ì ë¦¬ìŠ¤íŠ¸ ì„¹ì…˜ -->
  <section class="users-section">
    <h2 class="section-title">ì ‘ì†ì ë¦¬ìŠ¤íŠ¸</h2>
    <div class="users-list">
      {#each onlineUsers as user}
        <div class="user-item">
          <span class="status-dot" style="background-color: {statusColors[user.status]}"></span>
          <span class="user-name">{user.name}</span>
        </div>
      {/each}
      <div class="users-count">
        ì´ {onlineUsers.length}ëª… ì ‘ì† ì¤‘
      </div>
    </div>
  </section>

  <!-- ì¢Œì¸¡ ì‚¬ì´ë“œë°” ì¶”ê°€ ì •ë³´ -->
  <section class="info-section">
    <h2 class="section-title">ì¢Œì¸¡ ì‚¬ì´ë“œë°”</h2>
    <div class="info-content">
      <p>ì„œë²„ ì •ë³´ë‚˜ í†µê³„ë¥¼ ì—¬ê¸°ì— í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
    </div>
  </section>
</div>

<style>
  .sidebar-content {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .section-title {
    font-size: 0.875rem;
    font-weight: 600;
    color: #b0b0b0;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 1rem;
  }

  /* í”„ë¡œí•„ ì„¹ì…˜ */
  .profile-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background-color: #0a0a0a;
    border: 1px solid #36393f;
    border-radius: 0.5rem;
    transition:
      border-color 0.2s,
      transform 0.2s;
  }

  .profile-card:hover {
    border-color: #5865f2;
    transform: translateY(-2px);
  }

  .profile-avatar {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    object-fit: cover;
  }

  .profile-info {
    flex: 1;
  }

  .profile-name {
    font-size: 1rem;
    font-weight: 600;
    margin: 0 0 0.25rem 0;
  }

  .profile-status {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .status-indicator {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    animation: pulse 2s infinite;
  }

  .status-text {
    font-size: 0.875rem;
    color: #b0b0b0;
  }

  /* ì ‘ì†ì ë¦¬ìŠ¤íŠ¸ */
  .users-list {
    background-color: #0a0a0a;
    border: 1px solid #36393f;
    border-radius: 0.5rem;
    padding: 1rem;
  }

  .user-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.5rem;
    border-radius: 0.25rem;
    transition: background-color 0.2s;
    cursor: pointer;
  }

  .user-item:hover {
    background-color: rgba(88, 101, 242, 0.1);
  }

  .status-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  .user-name {
    font-size: 0.875rem;
    color: #ffffff;
  }

  .users-count {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #36393f;
    font-size: 0.75rem;
    color: #b0b0b0;
    text-align: center;
  }

  /* ì •ë³´ ì„¹ì…˜ */
  .info-content {
    padding: 1rem;
    background-color: #0a0a0a;
    border: 1px solid #36393f;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    color: #b0b0b0;
    line-height: 1.5;
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 rgba(87, 242, 135, 0.7);
    }
    70% {
      box-shadow: 0 0 0 10px rgba(87, 242, 135, 0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(87, 242, 135, 0);
    }
  }
</style>
